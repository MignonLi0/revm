use revm::{
    precompile::bls12_381::g2_add::PRECOMPILE,
    primitives::{hex, Bytes},
};

fn main() {
    let input = hex::decode(
        "0000000000000000000000000000000005b1166f1722d0fb9c388448392fcbf632a2c650582a4f21ecef35618e7ebfa453376b2377988ef3a36b66cc47a1eaa1000000000000000000000000000000000a7c21ea5b200e164a4519f911cf54e0d6d3054a9f89c48aa59a8597971e35a8457b9c0b9beb4fdc51406de72687642c000000000000000000000000000000000506ef8726fdc1fb7ee3a877219790ea87b1d4596d6c4ab8bbb436a138249a97c13044f7af4dd637a752c010d8d29e250000000000000000000000000000000001afbd552adb578442874b259d6960b24581f9df2b905408177c4997a2db5eb84cea9e4a83538d9adff92754567443130000000000000000000000000000000004293f55118edfc37765fb4f298c0b759288ec15388e9f3bddeffdb63cedcb89291c0251bda3a103e6f47177478ad928000000000000000000000000000000000c1dec9b04b00592ce57c1ca3e2b10eaa9d18b9e94bba6fd6c49306a0ebe55eac8097b5cbc921f7d006775cac8e82c8e000000000000000000000000000000000a710bfb8089097afd6c132ce7ca33dfdae2792b07aaae61523e16b2fdc494533dfa924727f78835e98b5ed26ee96af70000000000000000000000000000000008add6d89674628edc0149b53c546f39ffd15789143491db1bd8e33b7c5bfeba79a4c9ea770cfaf2e16a4f08dd39e37e",
    )
    .unwrap();
    let input_bytes = Bytes::copy_from_slice(&input);

    let count = 5000;
    println!("Unit Count = {}", count);

    for _ in 0..count {
        let precompile = *PRECOMPILE.precompile();
        let res = precompile(&input_bytes, u64::MAX).unwrap();
        std::hint::black_box(res);
    }

    println!("Gas/Unit = 600");
}
